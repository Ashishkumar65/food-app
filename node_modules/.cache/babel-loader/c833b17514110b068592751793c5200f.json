{"ast":null,"code":"import _slicedToArray from\"/Users/ashish/Desktop/react/food-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _toConsumableArray from\"/Users/ashish/Desktop/react/food-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/ashish/Desktop/react/food-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import CartContext from'./cart-context.js';import{useReducer}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";var defaultCartState={items:[],totalAmount:0};var cartReducer=function cartReducer(state,action){if(action.type==='ADD'){var updatedTotalAmount=state.totalAmount+action.item.price*action.item.amount;var existingCartItemIndex=state.items.findIndex(function(item){return item.id===action.item.id;});var existingCartItem=state.items[existingCartItemIndex];var updatedItems;if(existingCartItem){var updatedItem=_objectSpread(_objectSpread({},existingCartItem),{},{amount:existingCartItem.amount+action.item.amount});updatedItems=_toConsumableArray(state.items);updatedItems[existingCartItemIndex]=updatedItem;}else{updatedItems=state.items.concat(action.item);}return{items:updatedItems,totalAmount:updatedTotalAmount};}if(action.type==='REMOVE'){var _existingCartItemIndex=state.items.findIndex(function(item){return item.id===action.id;});var existingItem=state.items[_existingCartItemIndex];var _updatedTotalAmount=state.totalAmount-existingItem.price;var _updatedItems;if(existingItem.amount===1){_updatedItems=state.items.filter(function(item){return item.id!==action.id;});}else{var _updatedItem=_objectSpread(_objectSpread({},existingItem),{},{amount:existingItem.amount-1});_updatedItems=_toConsumableArray(state.items);_updatedItems[_existingCartItemIndex]=_updatedItem;}return{items:_updatedItems,totalAmount:_updatedTotalAmount};}if(action.type==='CLEAR'){return defaultCartState;}return defaultCartState;};var CartProvider=function CartProvider(props){var _useReducer=useReducer(cartReducer,defaultCartState),_useReducer2=_slicedToArray(_useReducer,2),cartState=_useReducer2[0],dispatchCartAction=_useReducer2[1];var addItemToCartHandler=function addItemToCartHandler(item){dispatchCartAction({type:'ADD',item:item});};var removeItemFromCartHandler=function removeItemFromCartHandler(id){dispatchCartAction({type:'REMOVE',id:id});};var clearCarthandler=function clearCarthandler(){dispatchCartAction({type:'CLEAR'});};var cartContext={items:cartState.items,totalAmount:cartState.totalAmount,addItem:addItemToCartHandler,removeItem:removeItemFromCartHandler,clearCart:clearCarthandler};return/*#__PURE__*/_jsx(CartContext.Provider,{value:cartContext,children:props.children});};export default CartProvider;","map":{"version":3,"names":["CartContext","useReducer","defaultCartState","items","totalAmount","cartReducer","state","action","type","updatedTotalAmount","item","price","amount","existingCartItemIndex","findIndex","id","existingCartItem","updatedItems","updatedItem","concat","existingItem","filter","CartProvider","props","cartState","dispatchCartAction","addItemToCartHandler","removeItemFromCartHandler","clearCarthandler","cartContext","addItem","removeItem","clearCart","children"],"sources":["/Users/ashish/Desktop/react/food-app/src/store/CartProvider.js"],"sourcesContent":["import CartContext from './cart-context.js'; \nimport { useReducer } from 'react';\nconst defaultCartState={\n    items:[],\n    totalAmount:0\n};\nconst cartReducer=(state,action)=>{\n    if(action.type==='ADD'){\n        const updatedTotalAmount=state.totalAmount+action.item.price*action.item.amount;\n        const existingCartItemIndex=state.items.findIndex(item=>item.id===action.item.id);\n        const existingCartItem=state.items[existingCartItemIndex];\n        let updatedItems\n        if(existingCartItem){\n            const updatedItem={\n                ...existingCartItem,\n                amount:existingCartItem.amount+action.item.amount,\n            }\n            updatedItems=[...state.items];\n            updatedItems[existingCartItemIndex]=updatedItem\n        }\n        else{\n            updatedItems=state.items.concat(action.item);\n        }\n    \n        \n        return {\n            items:updatedItems,\n            totalAmount:updatedTotalAmount\n        }\n    }\n    if(action.type==='REMOVE'){\n        const existingCartItemIndex=state.items.findIndex(item=>item.id===action.id);\n        const existingItem=state.items[existingCartItemIndex]\n        const updatedTotalAmount=state.totalAmount-existingItem.price;\n        let updatedItems;\n        if(existingItem.amount===1){\n            updatedItems=state.items.filter(item=>item.id!==action.id);\n        }\n        else{\n            const updatedItem={...existingItem,amount:existingItem.amount-1};\n            updatedItems=[...state.items];\n            updatedItems[existingCartItemIndex]=updatedItem;\n        }\n        return {\n            items:updatedItems,\n            totalAmount:updatedTotalAmount\n        }\n    }\n    if(action.type==='CLEAR'){\n       return defaultCartState;\n    }\n    return defaultCartState;\n}\nconst CartProvider=(props)=>{\n    const[cartState,dispatchCartAction]=useReducer(cartReducer,defaultCartState)\n    const addItemToCartHandler=(item)=>{\n        dispatchCartAction({type: 'ADD',item:item})\n    };\n    const removeItemFromCartHandler=(id)=>{\n        dispatchCartAction({type: 'REMOVE',id:id})\n    };\n\n    const clearCarthandler=()=>{\n        dispatchCartAction({\n            type:'CLEAR'\n        });\n    }\n\n    const cartContext={\n        items:cartState.items,\n        totalAmount:cartState.totalAmount,\n        addItem: addItemToCartHandler,\n        removeItem:removeItemFromCartHandler,\n        clearCart:clearCarthandler\n    }\n    return <CartContext.Provider value={cartContext}>\n        {props.children}\n    </CartContext.Provider>\n};\nexport default CartProvider;"],"mappings":"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"},"metadata":{},"sourceType":"module"}